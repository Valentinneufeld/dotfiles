# Session 2026-02-16

## 1. Search Pattern Persistenz fixen

### Problem
WezTerm behält den Suchbegriff zwischen Copy-Mode- und Search-Mode-Sessions. Wenn man zweimal hintereinander sucht (`Leader + /` oder `/` im Copy Mode), ist der alte Suchbegriff noch im Feld.

### Lösung
`ClearPattern` nach dem Aktivieren von Copy Mode / Search Mode aufrufen. `Multiple` funktioniert dafür **nicht zuverlässig** — stattdessen `action_callback` mit `window:perform_action` verwenden.

### Geänderte Bindings
- **`Leader + [`** — ActivateCopyMode + ClearPattern (via action_callback)
- **`Leader + /`** — Search + ClearPattern (via action_callback)
- **`/`, `s`, `Shift+7` im Copy Mode** — Search + ClearPattern (via action_callback)

### Erkenntnis
- `wezterm.action.Multiple` führt Actions nicht immer im erwarteten Kontext aus (z.B. ClearPattern greift nicht nach ActivateCopyMode in Multiple)
- `window:perform_action()` in `action_callback` ist die zuverlässige Alternative für sequentielle Mode-Wechsel + Actions

## 2. Tmux auf Remote-Servern — Leader-Konflikt (offen)

### Problem
WezTerm Leader (`Ctrl+b`) kollidiert mit tmux default prefix (`Ctrl+b`). Tmux wird auf Servern für persistente Sessions gebraucht (lange Prozesse, Ausloggen).

### Optionen
1. **Doppel-Prefix in WezTerm:** `Ctrl+b, Ctrl+b` leitet an tmux durch — WezTerm-Doku empfiehlt dieses Pattern (`SendKey` im Leader)
2. **Tmux Prefix ändern:** `set -g prefix C-a` auf dem Server — klare Trennung ohne Doppel-Prefix

### Status
Noch nicht entschieden. In `CLAUDE.md` unter "Offene Entscheidungen" notiert.

## Geänderte Dateien
- `wezterm.lua` — Search/CopyMode Keybindings mit ClearPattern
- `CLAUDE.md` — Such-Hinweis ergänzt, offene Entscheidung Tmux-Konflikt
- `WEZTERM-RESEARCH.md` — Neue Eigenheit #5 (Search Pattern Persistenz)
